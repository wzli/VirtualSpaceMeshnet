namespace vsm.msg;

enum Request:uint8 {
  LINK,
  UNLINK,
  FIND_NEAREST,
}

enum Response:uint8 {
  SUCCESS = 0,
  TIMEOUT,
  UNKNOWN,
}

table Dispatch {
  source:NodeStatus;
  context:uint32;
  request:Request;
  response:Response;
}

struct Vec2 {
  x:float32;
  y:float32;
}

table NodeStatus {
  name:string;
  address:string (key);
  coordinates:Vec2;
  timestamp:uint32;
}

table Beacon {
  nodes:[NodeStatus];
}

